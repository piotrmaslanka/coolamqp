language: python
python:
 - "2.7"
 - "3.3"
 - "3.4"
 - "3.5"
 - "pypy"
cache:
  directories:
    - $HOME/build/smok-serwis/coolamqp/.eggs
    - $HOME/.cache
script:
 - python -m coolamqp.framing.compilation.compile_definitions
 - python setup.py nosetests
install:
 - pip install -r requirements.txt
after_success:
 - codeclimate-test-reporter
 - bash build.sh
services:
 - rabbitmq
